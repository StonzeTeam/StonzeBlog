---
layout: post
title: "SIMD 병렬 프로그래밍"
author: "김지환"
date: 2016-07-09 10:00:00
excerpt: "SIMD 병렬 프로그래밍이 무엇인지 알아봅시다."
tags: [SIMD, Parallel Computing]
comments: true
---

SIMD란 Single Instruction Multiple Data의 약자로, 하나의 명령어로 여러개의 데이터를 한번에 처리하는 기법입니다.
일반적인 프로그램의 경우 대부분 SISD(Single Instruction Single Data)으로 구현되어 있고, 이것은 기본적인 폰노이만 컴퓨터가 사용하는 방식입니다.
하지만 동영상 인코딩, 그래픽 렌더링 등의 작업에 SIMD를 적용하였을 때는 성능적으로 큰 이득을 취할 수 있습니다.

CPU-Z같은 프로그램에서 CPU가 지원하는 명령어 셋들을 확인할 수 있는데, Intel의 경우 MMX(SSE2), AMD는 3D Now!같은 기술들이 SIMD를 의미합니다.


# Scala(SISD) VS SIMD
![](/assets/img/simd_1.jpg)

위의 예는 우리가 일반적으로 사고하는 SISD 방식과 이제부터 알아볼 SIMD 연산에 대한 차이를 나타낸 것입니다.
Vector4 + Vector4를 간단하게 SISD와 SIMD로 표현한다면 다음과 같습니다.

{% highlight Javascript %}

// SISD
var a = [1, 2, 3, 4];
var b = [5, 6, 7, 8];
var c = [];

c[0] = a[0] + b[0];
c[1] = a[1] + b[1];
c[2] = a[2] + b[2];
c[3] = a[3] + b[3];
c; // Array[6, 8, 10, 12]


// SIMD
var a = SIMD.Float32x4(1, 2, 3, 4);
var b = SIMD.Float32x4(5, 6, 7, 8);
var c = SIMD.Float32x4.add(a,b); // Float32x4[6, 8, 10, 12]

{% endhighlight %}

게임을 만들기 위해선 벡터, 행렬 연산은 피할 수 없습니다. 그래서 더욱 SIMD를 이용해 코드를 작성하면 좋겠지만, 그것은 쉽지 않은 작업일 것입니다. 하지만 대표적인 그래픽 라이브러리인 DirectX와 OpenGL은 SIMD를 지원합니다.

* DirectX 11부터 제공되는 XNAMath 라이브러리가 SSE2(SIMD)명령어 셋을 이용해 구현되었습니다
* ex) XMLoadFloat3, XMVector3Transform, ...


# 어떻게 구현하죠?



# 정리



# Reference
* [http://msparkms.tistory.com/entry/XNAMath-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EA%B0%84%EB%8B%A8-%EC%86%8C%EA%B0%9C](http://msparkms.tistory.com/entry/XNAMath-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EA%B0%84%EB%8B%A8-%EC%86%8C%EA%B0%9C)
* [https://msdn.microsoft.com/en-us/library/windows/desktop/ee415571(v=vs.85).aspx](https://msdn.microsoft.com/en-us/library/windows/desktop/ee415571(v=vs.85).aspx)
* [http://www.slideshare.net/KooKyeongWon/0204-sse?qid=59f2c516-76bf-4f04-8977-d2ae7c5745db&v=&b=&from_search=1](http://www.slideshare.net/KooKyeongWon/0204-sse?qid=59f2c516-76bf-4f04-8977-d2ae7c5745db&v=&b=&from_search=1)
* [https://developer.mozilla.org/ko/docs/Web/JavaScript/SIMD_types](https://developer.mozilla.org/ko/docs/Web/JavaScript/SIMD_types)
* [http://ftp.cvut.cz/kernel/people/geoff/cell/ps3-linux-docs/CellProgrammingTutorial/BasicsOfSIMDProgramming.html](http://ftp.cvut.cz/kernel/people/geoff/cell/ps3-linux-docs/CellProgrammingTutorial/BasicsOfSIMDProgramming.html)
* [https://en.wikipedia.org/wiki/SIMD](https://en.wikipedia.org/wiki/SIMD)
